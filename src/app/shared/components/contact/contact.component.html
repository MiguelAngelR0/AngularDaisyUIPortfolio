<!-- contact.component.html -->
<div class="hero bg-base-200 min-h-screen py-12">

  <div class="hero-content w-full max-w-4xl flex-col">

    <!-- Header Section -->
    <div class="text-center mb-12 w-full">
      <h1 class="text-4xl font-bold text-base-content mb-4">¡Hablemos!</h1>
      <p class="text-lg text-base-content/70 max-w-2xl mx-auto">
        ¿Tienes un proyecto en mente? ¿Necesitas ayuda con Angular o desarrollo Full Stack?
        Envíame un mensaje y trabajemos juntos.
      </p>
    </div>

    <!-- Contact Form -->
    <div class="w-full max-w-2xl">
      <div class="card bg-base-100 shadow-2xl">
        <div class="card-body">
          <h2 class="card-title text-2xl mb-6 text-primary justify-center">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
            Envíame un mensaje
          </h2>

          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-4">

            <!-- Name Input -->
            <div class="form-control">
              <label class="label">
                <span class="label-text font-semibold">Nombre *</span>
              </label>
              <input
                type="text"
                formControlName="name"
                placeholder="Tu nombre completo"
                class="input input-bordered w-full focus:input-primary"
                [class.input-error]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched"
              />
              <label class="label" *ngIf="contactForm.get('name')?.invalid && contactForm.get('name')?.touched">
                <span class="label-text-alt text-error">El nombre es requerido</span>
              </label>
            </div>

            <!-- Email Input -->
            <div class="form-control">
              <label class="label">
                <span class="label-text font-semibold">Email *</span>
              </label>
              <input
                type="email"
                formControlName="email"
                placeholder="tu@email.com"
                class="input input-bordered w-full focus:input-primary"
                [class.input-error]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched"
              />
              <label class="label" *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched">
                <span class="label-text-alt text-error">
                  <span *ngIf="contactForm.get('email')?.errors?.['required']">El email es requerido</span>
                  <span *ngIf="contactForm.get('email')?.errors?.['email']">Ingresa un email válido</span>
                </span>
              </label>
            </div>

            <!-- Company Input -->
            <div class="form-control">
              <label class="label">
                <span class="label-text font-semibold">Empresa</span>
                <span class="label-text-alt text-base-content/50">Opcional</span>
              </label>
              <input
                type="text"
                formControlName="company"
                placeholder="Nombre de tu empresa"
                class="input input-bordered w-full focus:input-primary"
              />
            </div>

            <!-- Subject Input -->
            <div class="form-control">
            <div class="form-control">
              <label class="label">
                <span class="label-text font-semibold">Asunto *</span>
              </label>
              <input
                type="email"
                formControlName="email"
                placeholder="tu@email.com"
                class="input input-bordered w-full focus:input-primary"
                [class.input-error]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched"
              />
              <label class="label" *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched">
                <span class="label-text-alt text-error">
                  <span *ngIf="contactForm.get('email')?.errors?.['required']">El email es requerido</span>
                  <span *ngIf="contactForm.get('email')?.errors?.['email']">Ingresa un email válido</span>
                </span>
              </label>
            </div>

            </div>

            <!-- Message Textarea -->
            <div class="form-control">
              <label class="label">
                <span class="label-text font-semibold">Mensaje *</span>
              </label>
              <textarea
                formControlName="message"
                placeholder="Cuéntame sobre tu proyecto, dudas o cómo puedo ayudarte..."
                class="textarea textarea-bordered h-32 resize-none focus:textarea-primary"
                [class.textarea-error]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched"
              ></textarea>
              <label class="label" *ngIf="contactForm.get('message')?.invalid && contactForm.get('message')?.touched">
                <span class="label-text-alt text-error">El mensaje es requerido</span>
              </label>
              <label class="label">
                <span class="label-text-alt text-base-content/50">Mínimo 10 caracteres</span>
                <span class="label-text-alt text-base-content/50">
                  {{ contactForm.get('message')?.value?.length || 0 }}/500
                </span>
              </label>
            </div>

            <!-- Submit Button -->
            <div class="form-control mt-8">
              <button
                type="submit"
                class="btn btn-primary btn-lg group"
                [disabled]="contactForm.invalid || isSubmitting"
                [class.loading]="isSubmitting"
              >
                <span *ngIf="!isSubmitting" class="flex items-center gap-2">
                  Enviar Mensaje
                  <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                  </svg>
                </span>
                <span *ngIf="isSubmitting">Enviando...</span>
              </button>
            </div>

            <!-- Success/Error Messages -->
            <div *ngIf="submitMessage" class="alert"
                 [class.alert-success]="submitSuccess"
                 [class.alert-error]="!submitSuccess">
              <svg *ngIf="submitSuccess" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <svg *ngIf="!submitSuccess" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <span>{{ submitMessage }}</span>
            </div>
          </form>
        </div>
      </div>
    </div>

  </div>
</div>
